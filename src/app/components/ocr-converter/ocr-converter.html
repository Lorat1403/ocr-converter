<div class="ocr-container">
  <div class="card">
    <h1 class="title">Зображення в Текст</h1>
    <p class="subtitle">Завантажте JPEG/PNG (до 200Kb) для вилучення тексту</p>

    <div class="upload-section">
      <label class="file-input-label">
        <span>Виберіть файл</span>
        <input
          type="file"
          appFileValidator
          (fileValid)="onFileSelected($event)"
          (fileError)="handleError($event)"
          hidden
        />
      </label>
      @if (errorMessage()){
      <p class="error-text">{{ errorMessage() }}</p>
      }
    </div>

    @if (imagePreview()) {
    <div class="preview-container">
      <h3>Попередній перегляд</h3>
      <div class="image-wrapper">
        <img [src]="imagePreview()" alt="Preview" />
      </div>
    </div>
    } @if (isLoading()) {
    <div class="loader">
      <div class="spinner"></div>
      <p>Аналізуємо зображення...</p>
    </div>
    } @if (extractedData()){
    <div class="result-container">
      <div class="result-header">
        <h3>Отриманий текст</h3>
        <button class="copy-btn" (click)="copyToClipboard(extractedText())">Копіювати</button>
      </div>

      <div class="text-box">
        @if (extractedText()) {
        {{ extractedText() }}
        } @else if (extractedData()?.length === 0) {
        <span class="warning">Текст на зображенні не розпізнано. Спробуйте інше фото.</span>
        }
      </div>
    </div>
    }
  </div>
</div>
